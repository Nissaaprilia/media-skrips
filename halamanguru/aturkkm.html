<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Penjumlahan dan Pengurangan Bilangan Pecahan</title>

  <!-- Boxiocns CDN Link -->
  <link href="https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css" rel="stylesheet" />
  <!-- Matjax -->
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <!-- Bootstrap Icon-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
    crossorigin="anonymous"></script>

  <!-- Javascript -->
  <!-- <script type="module" src="../halamanguru/jsguru/akunguru.js"></script> -->
  <!-- <script type="module" src="../halamanguru/jsguru/datasiswa.js"></script> -->

  <!-- My CSS -->
  <link rel="stylesheet" href="../css/halguru.css" />
  <link rel="stylesheet" href="/css/datasiswa.css" />

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>

  <!-- ALert -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<!-- JS Tables -->
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>

<!-- CSS Tables -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.2.0/css/bootstrap.min.css" />
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css" />

<body style="display: flex; flex-direction: column">
  <input type="checkbox" id="check" />
  <label for="check">
    <i class="fas fa-bars" id="btn"></i>
    <i class="fas fa-times" id="cancel"></i>
  </label>

  <!-- Sidebar-->
  <nav class="sidebar">
    <header><b>ADMIN GURU</b></header>
    <div class="scrollbox">
      <div class="scrollbox-inner">
        <ul style="padding: 0">
          <li>
            <a href="#"><i class="fa-solid fa-book-bookmark"></i>&nbsp;Data Siswa</a>
          </li>

          <li>
            <a href="../halamanguru/nilaikuis.html"><i class="bi bi-clipboard2-check-fill"></i>&nbsp;Nilai Kuis</a>
          </li>

          <li>
            <a href="../halamanguru/nilaievaluasi.html"><i class="bi bi-clipboard2-check-fill"></i>&nbsp;Nilai
              Evaluasi</a>
          </li>
          <li>
            <a class="active" href="./aturkkm.html"><i class="bi bi-pencil-square"></i>&nbsp;Atur KKM</a>
          </li>

          <li>
            <a href="#" type="button" onclick="Signout()"><i class="fa-solid fa-house"></i>&nbsp;Logout</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <!-- Akhir Sidebar -->
  <section>
    <!-- Header -->
    <div id="header">
      <div class="username">
        <span>
          <img src="../img/guruimg/idcard.png" width="50px" alt="" />
        </span>
        <span>
          <div id="userguru"></div>
        </span>
      </div>
    </div>

    <!--  Container isi  -->
    <div class="container-fluid">
      <div class="isi">
        <div>
          <center>
            <h2>Atur KKM Kuis dan Evaluasi</h2>
          </center>
        </div>
        <div class="container">
          <div class="table-responsive">
            <table class="table table-bordered table-sm">
              <thead class="table table-bordered" style="background-color: #3e54ac; color: white">
                <tr>
                  <th class="text-center" scope="col">Nomor</th>
                  <th class="text-center" scope="col">Atur KKM Kuis atau Evaluasi</th>

                  <th class="text-center" scope="col">KKM Saat Ini</th>
                </tr>
              </thead>
              <tbody>
                <tr style="background-color: #227eff; color: white">
                  <th class="text-center" scope="row">1</th>
                  <td>
                    <button type="button" class="btn btn-light" data-bs-toggle="modal" data-bs-target="#modalKuis1"
                      style="background-color: #c43d3d; border-radius: 5px; color: white">
                      <i class="fa-solid fa-pen-to-square"></i>&nbsp;Atur
                    </button>
                    Kuis 1
                  </td>
                  <td>
                    <center>
                      <div class="kkm1"></div>
                    </center>
                  </td>
                </tr>
                <tr style="background-color: #227eff; color: white">
                  <th class="text-center" scope="row">2</th>
                  <td>
                    <button type="button" class="btn btn-light" data-bs-toggle="modal" data-bs-target="#modalKuis2"
                      style="background-color: #c43d3d; border-radius: 5px; color: white">
                      <i class="fa-solid fa-pen-to-square"></i>&nbsp;Atur
                    </button>
                    Kuis 2
                  </td>
                  <td>
                    <center>
                      <div class="kkm2"></div>
                    </center>
                  </td>
                </tr>

                <tr style="background-color:#227eff; color: white">
                  <th class="text-center" scope="row">3</th>
                  <td>
                    <button type="button" class="btn btn-light" data-bs-toggle="modal" data-bs-target="#modalEvaluasi"
                      style="background-color: #c43d3d; border-radius: 5px; color: white">
                      <i class="fa-solid fa-pen-to-square"></i>&nbsp;Atur
                    </button>
                    Evaluasi
                  </td>
                  <td>
                    <center>
                      <div class="kkm3"></div>
                    </center>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <br />

          <!-- Modal Kuis 1-->
          <div class="modal fade" id="modalKuis1" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
            aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header text-white" style="background-color: #3e54ac;">
                  <h5 class="modal-title" id="staticBackdropLabel">Edit KKM Kuis 1</h5>
                  <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="Close">
                    <!-- <span aria-hidden="true">&times;</span> -->
                  </button>
                  <!-- <button type="button" class="close text-white" data-bs-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span> -->
                  </button>
                </div>
                <div class="modal-body" style="background-color: #95a6ea">
                  <div class="form-group row">
                    <label for="inputEmail3" class="col-sm-2 col-form-label text-white">KKM</label>
                    <div class="col-sm-10">
                      <input type="number" class="form-control editKKM1" id="kkm1" />
                    </div>
                  </div>
                </div>
                <div class="modal-footer" style="background-color: #3e54ac">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
                  <button type="button" class="btn btn-success" id="setKKM1" data-bs-dismiss="modal">Simpan</button>
                </div>
              </div>
            </div>
          </div>

          <!-- Modal Kuis 2-->
          <div class="modal fade" id="modalKuis2" data-backdrop="static" data-keyboard="false" tabindex="-1"
            aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header text-white" style="background-color: #3e54ac">
                  <h5 class="modal-title" id="staticBackdropLabel">Edit KKM Kuis 2</h5>
                  <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="Close">
                    <!-- <span aria-hidden="true">&times;</span> -->
                  </button>
                </div>
                <div class="modal-body" style="background-color: #95a6ea">
                  <div class="form-group row">
                    <label for="inputEmail3" class="col-sm-2 col-form-label text-white">KKM</label>
                    <div class="col-sm-10">
                      <input type="number" class="form-control editKKM2" id="kkm2" />
                    </div>
                  </div>
                </div>
                <div class="modal-footer" style="background-color: #3e54ac">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
                  <button type="button" class="btn btn-success" id="setKKM2" data-bs-dismiss="modal">Simpan</button>
                </div>
              </div>
            </div>
          </div>



          <!-- Modal Evaluasi-->
          <div class="modal fade" id="modalEvaluasi" data-backdrop="static" data-keyboard="false" tabindex="-1"
            aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header text-white" style="background-color: #3e54ac">
                  <h5 class="modal-title" id="staticBackdropLabel">Edit KKM Evaluasi</h5>
                  <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="Close">
                    <!-- <span aria-hidden="true">&times;</span> -->
                  </button>
                </div>
                <div class="modal-body" style="background-color: #95a6ea">
                  <div class="form-group row">
                    <label for="inputEmail3" class="col-sm-2 col-form-label text-white">KKM</label>
                    <div class="col-sm-10">
                      <input type="number" class="form-control editKKM3" id="kkm3" />
                    </div>
                  </div>
                </div>
                <div class="modal-footer" style="background-color: #3e54ac">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
                  <button type="button" class="btn btn-success" id="setKKM3" data-bs-dismiss="modal">Simpan</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div id="ModalDownload" class="modal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Modal title</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p>Silahkan pilih kelas dan kuis/evaluasi</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>
</body>
<script>

  let userguru = document.getElementById("userguru");
  let logoutguru = document.getElementById("logoutguru");
  let nama = localStorage.getItem("nama");
  var currentUser = null;
  let nip = localStorage.getItem("nip");
  // Function;
  function getName() {
    if (nama == null) {
      Swal.fire({
        icon: "info",
        title: "Silahkan Login Terlebih Dahulu",
      }).then(() => {
        window.location = "./loginguru.html";
      });

      // alert('Silahkan Login Terlebih Dahulu');
      // window.location = './loginguru.html';
    } else {
      userguru.innerText = nama;
    }
  }

  getName();


  function Signout() {
    Swal.fire({
      title: 'Apakah Anda yakin ingin keluar?',
      icon: 'warning',
      showCancelButton: true,
      confirmButtonColor: '#3085d6',
      cancelButtonColor: '#d33',
      confirmButtonText: 'Ya, Keluar Akun!',
    }).then((result) => {
      if (result.isConfirmed) {
        Swal.fire({
          icon: 'success',
          title: 'Berhasil Keluar',
          showConfirButton: false,
          Timer: 1500,
        }).then(function () {
          localStorage.removeItem('name');
          localStorage.removeItem('nip');

          window.location = './loginguru.html';
        });
      }
    });
  }

  // window Load

  window.onload = function () {
    getName();
    if (currentUser == null) {
      logoutguru.href = "../../loginguru.html";
    } else {
      userguru.innerText = currentUser.nama;
      logoutguru.innerText = "Logout";
    }
  };
</script>
<script>
  // CENTER MODAL
  (function ($) {
    'use strict';

    function centerModal() {
      $(this).css('display', 'block');
      var $dialog = $(this).find('.modal-dialog'),
        offset = ($(window).height() - $dialog.height()) / 2,
        bottomMargin = parseInt($dialog.css('marginBottom'), 10);

      // Make sure you don't hide the top part of the modal w/ a negative margin if it's longer than the screen height, and keep the margin equal to the bottom margin of the modal
      if (offset < bottomMargin) offset = bottomMargin;
      $dialog.css('margin-top', offset);
    }

    $(document).on('show.bs.modal', '.modal', centerModal);
    $(window).on('resize', function () {
      $('.modal:visible').each(centerModal);
    });
  })(jQuery);
</script>
<script type="module" src="./jsguru/aturkkm.js"></script>

</html>